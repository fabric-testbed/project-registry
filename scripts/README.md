# Scripts

The scripts in this directory are used to deploy, update, or otherwise run code on various systems

## script: `update-swagger-stub.sh`

Whenever a modification is made to the Swagger specification file a new python-flask server stub is made to reflect the changes. The new stub code is insufficient to run the production server as it is, and must have some modifications made to it prior to being run. This script is used to update the newly generated stub.

### Usage

Copy the directory created by a python-flask Server Stub export as `server-stub` at the same level as the `server` directory

```console
cd scripts
./update-swagger-stub.sh
```

Files effected:

- `requirements.txt` - copied from prior deployment
- `__main__.py` - copied from prior deployment
- `__init__.py` - copied from prior deployment
- `wsgi.py` - copied from prior deoployment
- `pr_uwsgi.ini` - copied from prior deployment
- `swagger_server/response_code/*` - copied from prior deployment
- `swagger_server/controllers/*` - files altered in place (sed)
  - `authorization_controller.py` - newly generated by swagger
  - `default_controller.py` - newly generated by swagger
  - `people_controller.py` - newly generated by swagger
  - `projects_controller.py` - newly generated by swagger

## script: `run-local-development-server.sh`

This script is designed to run the local development server on port 5000.

```console
cd scripts
./run-local-development-server.sh
```

The Swagger UI will be found at [http://127.0.0.1:5000/ui/#/](http://127.0.0.1:5000/ui/#/)

## script: `run-local-production-server.sh`

This script is designed to run the local production server on port 5000.

```console
cd scripts
./run-local-production-server.sh
```

The Swagger UI will be found at [http://127.0.0.1:5000/ui/#/](http://127.0.0.1:5000/ui/#/)
